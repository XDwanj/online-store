# 网上商城

> 基于 springboot kotlin 的简单网上商城项目

## 技术栈

1. springboot v2.7.4
2. kotlin v1.6.21
3. logback + SLF4J 日志系统
4. Maven 构建工具
5. Swagger3 API文档(springDoc v1.6.9)
6. 使用 WangEditor 富文本编辑器
7. 借入 Alipay 接口

## 架构

1. MVC架构
2. 利用拦截器权限控制
3. 全局异常处理

## 计划

> 未实现

1. MapStruct 作为模型的映射器实现

## 约定

### 请求头

| 请求头名称          | 介绍                                                         |
| ------------------- | ------------------------------------------------------------ |
| authorization_token | 如果某个api需要登录，请在请求头中带上此token<br />可以通过 `/user/login` 接口拿到 `authorization_token`，过期时间为12h |

### 响应码

| Code | Msg              | Desc                 |
| ---- | ---------------- | -------------------- |
| 0    | SUCCESS          | 操作成功，无业务异常 |
| 1    | ERROR            | 出现错误             |
| 10   | NEED_LOGIN       | 尚未登录             |
| 2    | ILLEGAL_ARGUMENT | 传入参数非法         |

### 用户权限

| Code | Desc     |
| :--- | :------- |
| 0    | 管理员   |
| 1    | 普通用户 |

### 商品状态

| Code | Desc |
| :--- | :--- |
| 1    | 在售 |
| 2    | 下架 |
| 3    | 删除 |

### 商品类别

| parent_id | Desc                                     |
| --------- | ---------------------------------------- |
| 0         | 表示是分类的根节点，如：数码3C、酒水饮料 |
| 1xxxxx    | 表示是 1xxxxx 的子分类                   |

### 支付平台

| Code | Desc   |
| ---- | ------ |
| 1    | 支付宝 |
| 2    | 微信   |

### 订单状态

| Code | Desc     |
| ---- | -------- |
| 0    | 已取消   |
| 10   | 未支付   |
| 20   | 已付款   |
| 40   | 已发货   |
| 50   | 订单完成 |
| 60   | 订单关闭 |

### 支付状态

| Code | Desc     |
| ---- | -------- |
| 1    | 在线支付 |

### 是否选中

> 购物车项是否被选中之类的

| Code | Desc   |
| ---- | ------ |
| 1    | 选中   |
| 0    | 未选中 |

### 排序规则

| Code | Desc |
| ---- | ---- |
| asc  | 升序 |
| desc | 降序 |

## 页面罗列

### 普通用户

- [ ] 首页
    - [ ] 分类
    - [ ] 登录注册按钮
    - [ ] 罗列部分商品
    - [ ] 轮播图
    - [ ] 搜索框
- [ ] 用户页面
    - [ ] 用户信息罗列
        - [ ] 订单信息罗列
    - [ ] 信息更改页
    - [ ] 地址页
        - [ ] 添加
        - [ ] 删除
        - [ ] 修改
    - [ ] 购物车页
        - [ ] 删除
        - [ ] 全选
        - [ ] 下单
    - [ ] 订单页面
        - [ ] 取消未付款订单
        - [ ] 未付款
        - [ ] 已付款
        - [ ] 未发货
        - [ ] 已发货
        - [ ] 已到货
    - [ ] 登录
    - [ ] 注册
    - [ ] *注销*
    - [ ] 更改密码
    - [ ] 忘记密码
- [ ] 商品详情页
    - [ ] 选择数目
    - [ ] 商品头图
    - [ ] 商品简介
    - [ ] 商品详情
    - [ ] 商品例图
    - [ ] 猜你喜欢
- [ ] 下订单页面(未付款状态)
    - [ ] 商品简略
    - [ ] 商品数目
    - [ ] 商品图片
    - [ ] 选择物流地址
    - [ ] 付钱
    - [ ] => 跳转到支付宝
- [ ] 商品具体分类页
    - [ ] 选择价格倒序和正序

### 管理员

- [ ] 用户

    - [ ] 登录

    - [ ] 用户注销

- [ ] 侧栏

    - [ ] 商品管理
        - [ ] 商品添加
        - [ ] 商品更新^考虑图片上传问题^
        - [ ] 设置商品销售状态
        - [ ] 商品列表
        - [ ] 商品检索^关键字^
    - [ ] 分类管理
        - [ ] 添加分类
        - [ ] 删除分类
        - [ ] 更新分类

    - [ ] 订单管理

- [ ] 搜索框
- [ ] 正序和倒序按钮
- [ ] 基础的增删改查
- [ ] 商品添加^富文本编辑器|^
- [ ] 订单管理
    - [ ] 订单列表查看
    - [ ] 发货
    - [ ] 到货
    - [ ] 查询具体订单^通过orderNo^